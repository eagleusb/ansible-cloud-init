---
# type: bool
# descr: configure or not cloud-init via cloud.{cfg,cfg.d}
cloud_init_config: false

# type: dict
# descr: main cloud-init configuration (cloud.cfg)
# see https://cloudinit.readthedocs.io/en/latest/topics/examples.html
cloud_init_configuration:
  groups: []
  users:
    - default
  disable_root: false
  preserve_hostname: false
  manage_etc_hosts: false
  manage_resolv_conf: false
  datasource_list: []
  datasource: []
  packages: []
  # The modules that run in the 'init' stage
  cloud_init_modules:
    - migrator
    - seed_random
    - bootcmd
    - write-files
    - growpart
    - resizefs
    - disk_setup
    - mounts
    - set_hostname
    - update_hostname
    - update_etc_hosts
    - ca-certs
    - rsyslog
    - users-groups
    - ssh
  # The modules that run in the 'config' stage
  cloud_config_modules:
    - emit_upstart
    - ssh-import-id
    - locale
    - set-passwords
    - grub-dpkg
    - apt-pipelining
    - apt-configure
    - ntp
    - timezone
    - disable-ec2-metadata
    - runcmd
  # The modules that run in the 'final' stage
  cloud_final_modules:
    - package-update-upgrade-install
    - ubuntu-drivers
    - scripts-vendor
    - scripts-per-once
    - scripts-per-boot
    - scripts-per-instance
    - scripts-user
    - ssh-authkey-fingerprints
    - keys-to-console
    - phone-home
    - final-message
    - power-state-change
  system_info:
    distro: ubuntu
    network:
      renderers: ['netplan', 'eni']
    default_user:
      name: ubuntu
      lock_passwd: True
      gecos: Ubuntu
      groups: [adm, audio, cdrom, dialout, dip, floppy, netdev, plugdev, sudo, video]
      sudo: ["ALL=(ALL) NOPASSWD:ALL"]
      shell: /bin/bash
    ntp_client: auto
    paths:
        cloud_dir: /var/lib/cloud/
        templates_dir: /etc/cloud/templates/
        upstart_dir: /etc/init/
    package_mirrors: []
    ssh_svcname: ssh

# type: bool
# descr: disable or not cloud-init after the first boot
cloud_init_disable: false

# type: bool
# descr: cleanup or not cloud-init logs and seed files
cloud_init_clean: false

cloud_init_bootcmd: []

cloud_init_runcmd: []
